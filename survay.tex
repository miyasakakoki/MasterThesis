\section{サーバからの問い合わせによる監視}
	従来から機器監視に用いられてきた手法として，定期的に機器監視サーバから対象機器に状態を問い合わせる手法がある．
	機器監視サーバから，監視対象機器上のエージェントプログラムに，現在の状態を問い合わせる事で機器の監視を実現している．
	\medskip

	代表的なものとして、次のような物がある。
	\begin{itemize}
		\item Ping\\
			Pingとは、〇〇で△△といったものである。
		\item SNMPによる問い合わせ\\
			SNMPとは、〇〇で△△といったものである。
	\end{itemize}
	
	この手法を取るメリットは、よく用いられる手法であるので、ツールなどが揃っていて手軽である点である。
	
	また、デメリットとして、次のような物がある。
	\begin{itemize}
		\item 機器は常に待ち受けていなくてはならないため、省電力を目的としたスリープをすることが難しい
		\item IPアドレスで機器を識別することになるので、NAPTの内側にある場合、機器を識別することが出来ない
		\item 攻撃の足がかりとして使われる場合もあるので、使用できない場合がある
	\end{itemize}

	IoT機器の監視は、機器がNAPTの内側にある場合が多く、ユーザーに近い場所に設置されることが多いので、この方法を用いるためには、
	機器がグローバルIPアドレスを持っていること、間のネットワークにて監視用パケットがブロックされない様ネットワーク機器を設定すること、
	が必要である。

	この形では，機器監視サーバは，監視対象機器のIPアドレスを覚えておかねばならない．
	そのため，監視対象が接続されるネットワークが切り替わった場合，監視サーバ上に記録されたIPアドレスを変更しなくては監視できない．
	監視対象が，多量且つ移動するIoT機器の監視において，頻繁に監視サーバ上に記録されたIPアドレスを書き換えるのは大変である．
	また，プライベートアドレスの利用時には，サーバーからIoT機器への到達性が失われる可能性がある．

\section{監視対象機器からの通知による監視}
	機器監視手法として，定期的に監視対象機器から機器監視サーバーへ状態を送信するという手法がある．
	監視対象機器上のエージェントプログラムが，指定した時間毎に機器監視サーバーへ状態を送信することで，機器の監視を実現している．
	\medskip
	
	代表的なものとして、次のようなものがある。
	\begin{itemize}
		\item SNMP Trapによる取得\\
			SNMPTrapとは先に述べたSNMPのTrapである。
		\item サーバーのリソース監視ソリューション\\
			具体的なものとして、Teregraf+Elasticsearch+Kibanaを使用したサーバー監視ソリューションがあげられる。
	\end{itemize}
	
	この手法を取るメリットは、
	1.機器から状態を送信することで、NAPTの内側に機器が設置されていても問題ない事
	2.省電力を目的としたスリープをすることができること
	がある。

	また、デメリットとして、
	1.SNMPを利用している場合は、ブロックされてしまうことがあること
	2.監視サーバの設定が繁雑であること
	がある。

	この形だと，機器監視サーバが監視対象のIPアドレスを覚えておく必要がなくなるため，監視対象が接続されるネットワークが切り替わった場合でも，追跡が可能である．
	ところが，エージェントプログラムの導入には，技術スキルと時間が必要である．
	また，サーバーの構築・設定も必要となる．

\section{ネットワークの提供者による機器の監視サービス} %SORACOMの話を入れる。
	ネットワーク機器から機器の監視を行うこともできる。

	代表的なものとして、株式会社SORACOMが行っているサービスが挙げられる。

	株式会社SORACOMでは、IoTプラットフォームとして、通信とクラウドを提供するサービスを行っている。
	通信はMVMOとして携帯電話網を使用しており、SORACOMAir用SIMを購入し、機器にSIMモジュールを取り付けることで利用できる。

	

	そもそも監視対象機器がつながる為のネットワークを作ってしまおうという動きもある．
	既設の携帯電話網を利用して，IoT機器用ネットワークサービスが展開されている．
	これは，IoT機器向けのデータ通信を提供するサービスで，Web画面から通信量や接続状況を確認することができる．
	携帯電話網を利用しているので，接続状況から機器の状態を推測できる．

	しかし，そのネットワークを利用している場合に限り機器の状況を推測できるので，異なるネットワークに接続された機器と，専用ネットワークを用いた機器とを１箇所で監視することが難しい．

\section{既存手法のまとめ}
	既存の手法として，サーバーからの問い合わせによる監視，監視対象機器からの通知による監視，ネットワークによる監視といった手法がある．
%	サーバーからの問い合わせによる監視は，現実的でなく，







